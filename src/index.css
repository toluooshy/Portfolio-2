:root {
  --bg: #fbf4ee;
  --fg: #111;
  --muted: #444;
  --border: #111;

  /* CRT tuning */
  --scanline-alpha: 0.035;
  --grain-alpha: 0.025;
}

/* ---------------- RESET ---------------- */

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;

  background: var(--bg);
  color: var(--fg);

  font-family: "Libre Baskerville", serif;

  /* Subtle contrast like e-ink */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

/* ---------------- GLOBAL CRT LAYER ---------------- */

body {
  position: relative;
}

/* Scanlines + phosphor grain */
body::before {
  content: "";
  pointer-events: none;

  position: fixed;
  inset: 0;
  z-index: 9999;

  background:
    /* horizontal scanlines */ repeating-linear-gradient(
      to bottom,
      rgba(0, 0, 0, var(--scanline-alpha)) 0px,
      rgba(0, 0, 0, var(--scanline-alpha)) 1px,
      transparent 1px,
      transparent 3px
    ),
    /* vertical phosphor drift */
      repeating-linear-gradient(
        to right,
        rgba(0, 0, 0, var(--grain-alpha)),
        rgba(0, 0, 0, var(--grain-alpha)) 1px,
        transparent 1px,
        transparent 4px
      );

  mix-blend-mode: multiply;
}

/* ---------------- LINKS ---------------- */

a {
  color: inherit;
  text-decoration: none;
  position: relative;
}

/* Subtle underline that feels "drawn" */
a::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1px;
  height: 1px;

  background: linear-gradient(
    to right,
    transparent,
    rgba(0, 0, 0, 0.4),
    transparent
  );
  opacity: 0.6;
}

/* ---------------- TEXT SELECTION ---------------- */

::selection {
  background: var(--fg);
  color: var(--bg);
}

/* ---------------- TYPOGRAPHIC QUIRKS ---------------- */

/* Slight analog jitter on headings */
h1,
h2,
h3 {
  letter-spacing: 0.03em;
}

/* Body text slightly tighter like print */
p {
  line-height: 1.6;
}

/* ---------------- FLASH-ERA INTERACTION ---------------- */

@media (prefers-reduced-motion: no-preference) {
  * {
    transition: background-position 80ms steps(2, jump-none),
      box-shadow 80ms steps(2, jump-none), transform 80ms steps(2, jump-none);
  }
}
